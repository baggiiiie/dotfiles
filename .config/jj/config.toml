"$schema" = "https://jj-vcs.github.io/jj/latest/config-schema.json"

[user]
name = "baggiiiie"
email = "yc@yingchaoooo.com"

[[--scope]]
--when.repositories = ["~/Desktop/repos/work/"]
[--scope.user]
name = "ydai"
email = "yingchao.dai@illumina.com"

# [Settings - Jujutsu docs](https://jj-vcs.github.io/jj/latest/config/#config-files-and-toml)
[ui]
default-command = "log"
diff-formatter = ":git"

graph.style = "square"
# pager = ":builtin"
pager = "delta"

editor = "nvim"

# diff-editor = "diffedit3"
# Use merge-tools.meld.merge-args
# merge-editor = "meld" # Or "vscode" or "vscodium" or "kdiff3" or "vimdiff"

[git]
# Prevent pushing work in progress or anything explicitly labeled "private"
private-commits = "description(glob:'wip:*') | description(glob:'private:*')"
# recommended by https://zerowidth.com/2025/jj-tips-and-tricks
push-new-bookmarks = true
abandon-unreachable-commits = false

[revset-aliases]
# set all remote bookmarks (commits pushed to remote branches) to be immutable
'immutable_heads()' = "builtin_immutable_heads() | remote_bookmarks()"
# 'immutable_heads()' = "builtin_immutable_heads()"

[template-aliases]
# Full timestamp in ISO 8601 format
# 'format_timestamp(timestamp)' = 'timestamp'
# Relative timestamp rendered as "x days/hours/seconds ago"
'format_timestamp(timestamp)' = 'timestamp.ago()'
# 'format_short_id(id)' = 'id.shortest()'

[aliases]
ab = ["abandon"]
abs = ["absorb"]
c = ["commit"]
ci = ["commit", "--interactive"]
d = ["diff"]
e = ["edit"]
g = ["git"]
rb = ["rebase"]
res = ["resolve"]
"res a" = ["resolve", "--tool", "mergiraf"]
sp = ["split"]
spi = ["split", "--interactive"]
sq = ["squash"]
sqi = ["squash", "--interactive"]
